<div class="p-8">
  <form [formGroup]="treatmentForm" (ngSubmit)="onSubmit()" class="flex flex-col gap-4">
    <div>
      <p-floatlabel variant="on">
        <input pInputText type="date" id="date" class="w-full" formControlName="date" />
        <label for="date">Date</label>
      </p-floatlabel>
      @if (isInvalid('date')) {
      <p-message severity="error" size="small" variant="simple">
        Date is required.
      </p-message>
      }
    </div>

    <div>
      <p-floatlabel variant="on">
        <textarea pTextarea id="diagnosis" pTextarea [autoResize]="true" rows="3" cols="30" style="resize: none"
          class="w-full" formControlName="diagnosis"></textarea>
        <label for="diagnosis">Diagnosis</label>
      </p-floatlabel>
      @if (isInvalid('diagnosis')) {
      <p-message severity="error" size="small" variant="simple">
        Diagnosis must be between 0 and 100.
      </p-message>
      }
    </div>

    <div>
      <p-floatlabel variant="on">
        <textarea pTextarea id="treatment" pTextarea [autoResize]="true" rows="3" cols="30" style="resize: none"
          class="w-full" formControlName="treatment"></textarea>
        <label for="treatment">Treatment</label>
      </p-floatlabel>
      @if (isInvalid('treatment')) {
      <p-message severity="error" size="small" variant="simple">
        Treatment must be between 0 and 100.
      </p-message>
      }
    </div>

    <div>
      <p-floatlabel variant="on">
        <textarea pTextarea id="notes" pTextarea [autoResize]="true" rows="3" cols="30" style="resize: none"
          class="w-full" formControlName="notes"></textarea>
        <label for="notes">Notes</label>
      </p-floatlabel>
      @if (isInvalid('notes')) {
      <p-message severity="error" size="small" variant="simple">
        Notes must be between 0 and 100.
      </p-message>
      }
    </div>



    <div class="flex justify-center items-center gap-4 ">
      <p-button [disabled]="treatmentForm.invalid || formSubmitted" variant="outlined" label="Submit" severity="primary"
        type="submit"></p-button>

      <p-button [disabled]="formSubmitted" label="Close" severity="danger" variant="outlined" type="button"
        (click)="dialogRef.close()">
      </p-button>
    </div>
  </form>
</div>
